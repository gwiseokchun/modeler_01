<!DOCTYPE html>
<html lang="ko">
<html>
<head>
  <title>Modeler</title>

  <link rel="stylesheet" href="vendor/bpmn-js/assets/diagram-js.css" />
  <link rel="stylesheet" href="vendor/bpmn-js/assets/bpmn-font/css/bpmn-embedded.css" />
  <link rel="stylesheet" href="vendor/diagram-js-minimap/assets/diagram-js-minimap.css" />
  <link rel="stylesheet" href="vendor/bpmn-js-properties-panel/assets/bpmn-js-properties-panel.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/app.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/colorPick.css">
  <style type="text/css">

    @import url(//fonts.googleapis.com/earlyaccess/notosanskr.css);

    body , html{
      font-family: "Noto Sans KR", sans-serif !important;
      font-size: 15px;
    }


    ul.main {
      list-style-type: none;
      margin: 0;
      padding: 0;
      background-color: #10ad73;
    }

    ul.main:after{
     content:'';
     display: block;
     clear:both;
   }

   li.main {
     float: left;
   }

   li.main a {
     display: block;
     color: white;
     text-align: center;
     padding: 14px 16px;
     text-decoration: none;
     width:150px;

   }

   li.main a:hover:not(.active) {
    /*background-color: #4CAF50;*/
    text-decoration: underline;
  }
  .active {
    text-decoration: underline;
    /*background-color: #4CAF50;*/
  }

 .accordion {
  background-color: #eee;
  color: #444;
  cursor: pointer;
  padding: 18px;
  width: 100%;
  border: none;
  text-align: left;
  outline: none;
  font-size: 15px;
  transition: 0.4s;
}

/*
.active, .accordion:hover {
  background-color: #ccc;
}
*/

.accordion:after {
  content: '\002B';
  color: #777;
  font-weight: bold;
  float: right;
  margin-left: 5px;
}

/*
.active:after {
  content: "\2212";
}
*/

.panel {
  padding: 0 18px;
  background-color: white;
  max-height: 0;
  overflow: hidden;
  transition: max-height 0.2s ease-out;
}



  /*
  input[type=text].maininput {
    width: 100%;
    padding: 12px 20px;
    margin: 8px 0;
    box-sizing: border-box;
  }
  */  

/*
.tab {
  overflow: hidden;
  border: 1px solid #ccc;
  background-color: #f1f1f1;
}


.tab button {
  background-color: inherit;
  float: left;
  border: none;
  outline: none;
  cursor: pointer;
  padding: 14px 16px;
  transition: 0.3s;
}

.tab button:hover {
  background-color: #ddd;
}


.tab button.active {
  background-color: #ccc;
}


.tabcontent {
  display: none;
  padding: 6px 12px;
  border: 1px solid #ccc;
  border-top: none;
}
*/


</style>
</head>
<body>
 <div>
  <ul class='main'>
    <li class='main'><a href="home2">Home</a></li>
    <li class='main'><a href="home/1">Model List</a></li>
    <li class='main'><a href="viewer" >Viewer</a></li>
    <li class='main'><a class="active" href="modeler">Modeler</a></li>
    <li class='main'><a href="about">About</a></li>
  </ul>
</div>
<div style="background-color: #777; padding: 20px 20px; position: relative; height: 7%;">
  <button class="picker" id="picker1" style="width: 3%; top: 15%; left: 5%; border:0; outline :1; position: absolute;">
     <img src="/paint_icon.jpg" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-download"  
          data-toggle="tooltip" data-placement="bottom" title="다운로드"
          style="width: 4%; top: 10%; left: 70%; border:0; outline :0; position: absolute;">
    <img src="/dowload_icon.ico" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-list"  
          data-toggle="tooltip" data-placement="bottom" title="모델 리스트"
          style="width: 4%; top: 10%; left: 75%; border:0; outline :0; position: absolute;">
    <img src="/list_icon.png" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-minimap"  
          data-toggle="tooltip" data-placement="bottom" title="미니맵"
          style="width: 4%; top: 10%; left: 80%; border:0; outline :0; position: absolute;">
    <img src="/minimap_icon.png" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-panel"  
          data-toggle="tooltip" data-placement="bottom" title="속성창"
          style="width: 4%; top: 10%; left: 85%; border:0; outline :0; position: absolute;">
    <img src="/panel_icon.ico" width="40" height="40">
  </button> 
</div>
<p id="xmlData" style="display:none;"><%=name%></p>
<p id="modelID" style="display:none;"><%=modelID%></p>
<input type = "hidden" id = "modelType" value="<%=type%>">
  
<button class="accordion" style="width: 20%">전지</button>
<div class="panel">
  <% for(var i=0; i < data.length; i++){ %>

  <% if(data[i].MODELCATID == "A"){ %>
    <a href="/modeler?id=<%=data[i].MODELID%>"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a> <br>
  <% } %>
  <% } %>
</div>

<button class="accordion" style="width: 20%">조립</button>
<div class="panel">
  <% for(var i=0; i < data.length; i++){ %>
  <% if(data[i].MODELCATID == "B"){ %>
    <a href="/modeler?id=<%=data[i].MODELID%>"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a> <br>
  <% } %>
  <% } %>
</div>

<button class="accordion" style="width: 20%">활성화</button>
<div class="panel">
  <% for(var i=0; i < data.length; i++){ %>
  <% if(data[i].MODELCATID == "C"){ %>
    <a href="/modeler?id=<%=data[i].MODELID%>"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a> <br>
  <% } %>
  <% } %>
</div>

<!--
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">MODEL_01</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">MODEL_02</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">MODEL_03</button>
</div>

<div id="London" class="tabcontent">
  <div class="content with-diagram" id="js-drop-zone">

    <div class="message intro">
      <div class="note">
        Drop BPMN diagram from your desktop or <a id="js-create-diagram" href>create a new diagram</a> to get started.
      </div>
    </div>

    <div class="message error">
      <div class="note">
        <p>Ooops, we could not display the BPMN 2.0 diagram.</p>

        <div class="details">
          <span>Import Error Details</span>
          <pre></pre>
        </div>
      </div>
    </div>

    <div class="canvas" id="js-canvas"></div>
    <div class="properties-panel-parent" id="js-properties-panel">
    </div>
</div>


<div id="Paris" class="tabcontent">
  <h3>MODEL_02</h3>
  <p>Paris is the capital of France.</p>
</div>

<div id="Tokyo" class="tabcontent">
  <h3>MODEL_03</h3>
  <p>Tokyo is the capital of Japan.</p>
</div>

-->

<div class="content with-diagram" id="js-drop-zone">

  <div class="message intro">
    <div class="note">
      Drop BPMN diagram from your desktop or <a id="js-create-diagram" href>create a new diagram</a> to get started.
    </div>
  </div>

  <div class="message error">
    <div class="note">
      <p>Ooops, we could not display the BPMN 2.0 diagram.</p>

      <div class="details">
        <span>Import Error Details</span>
        <pre></pre>
      </div>
    </div>
  </div>

  <div class="canvas" id="js-canvas"></div>
  <div class="properties-panel-parent" id="js-properties-panel">

  </div>
</div>

<input type = "hidden" id = "modelName" class="maininput" value="<%=JsmodelName%>">
<input type = "hidden" id = "modelDetailName" class="maininput" value="<%=JsmodelDetailName%>">

<div class="buttons">
  <label id="js-download-diagram" href class="active"  title="download BPMN diagram">모델러 저장</label>
  <label id="modelinfo">모델정보입력</label>
  <label>
        <img src="/Attach_icon.ico" width="30" height="30">
        <input type="file" id="fileInput" name="fileInput" multiple>
  </label>

  <input type="text" readonly="readonly" title="File Route">
  <input type="hidden" id="file_length" value="<%=JsFileList.length%>">
 <% for(var k=0; k < JsFileList.length; k++){ %>  
  <input type="hidden" id="file<%=k%>" value="download?id=<%=JsFileList[k].REPOSINFO%>">
 <% } %>
</div>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="modeler.app.js"></script>

<script type="text/javascript">

var acc = document.getElementsByClassName("accordion");
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      panel.style.maxHeight = panel.scrollHeight + "px";
    } 
   });
  }

//btn tooltip..
$('[data-toggle="tooltip"]').tooltip()


function openCity(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}

</script>

</html>
