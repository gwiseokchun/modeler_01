<!DOCTYPE html>
<html lang="ko">
<html>
<head>
  <title>Modeler</title>

  <link rel="stylesheet" href="vendor/bpmn-js/assets/diagram-js.css" />
  <link rel="stylesheet" href="vendor/bpmn-js/assets/bpmn-font/css/bpmn-embedded.css" />
  <link rel="stylesheet" href="vendor/diagram-js-minimap/assets/diagram-js-minimap.css" />
  <link rel="stylesheet" href="vendor/bpmn-js-properties-panel/assets/bpmn-js-properties-panel.css" />
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
  <link rel="stylesheet" href="css/app.css" />
  <link rel="stylesheet" href="css/style.css" />
  <link rel="stylesheet" href="css/colorPick.css">
  <style type="text/css">

    @import url(//fonts.googleapis.com/earlyaccess/notosanskr.css);

    body , html
    {
      font-family: "Noto Sans KR", sans-serif !important;
      font-weight: normal;
      font-style: normal;
      height: 100%;
      padding: 0;
      margin: 0;
    }
  

  .active {
     text-decoration: underline;
  }

  .panel {
    padding: 0 18px;
    background-color: gray;
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.2s ease-out;
    line-height: 8px;
  }

/* The side navigation menu */
.sidenav {
  height: 100%; /* 100% Full-height */
  width: 0; /* 0 width - change this with JavaScript */
  position: fixed; /* Stay in place */
  z-index: 1; /* Stay on top */
  top: 10;
  left: 0;
  overflow-y: scroll; /* Disable horizontal scroll */ 
  padding-top: 60px; /* Place content 60px from the top */
  transition: 0.5s; /* 0.5 second transition effect to slide in the sidenav */
  background-color: hsl(0,0%,97%); 
  color: #444;
  cursor: pointer;
  border-right:1px solid hsl(0 0% 87% / 1);
}

/* The navigation menu links */
.sidenav a {
  padding: 10px 8px 8px 8px;
  text-decoration: none;
  font-size: 30px;
  color: black;
  display: block;
  transition: 0.3s;
}

/* When you mouse over the navigation links, change their color */
.sidenav a:hover {
  color: white;
}

/* On smaller screens, where height is less than 450px, change the style of the sidenav (less padding and a smaller font size) */
@media screen and (max-height: 450px) {
  .sidenav {padding-top: 15px;}
  .sidenav a {font-size: 15px;}
}

  .btn-file{
      position: relative;
      overflow: hidden;
  }
  
  .btn-file input[type=file] {
            position: absolute;
            top: 0;
                right: 0;
            min-width: 100%;
            min-height: 100%;
            font-size: 100px;
            text-align: right;
            filter: alpha(opacity=0);
            opacity: 0;
            outline: none;
            background: white;
            cursor: inherit;
            display: block;
   }

</style>
</head>
<body>
 <div style="height: 50px; 
            padding-top: 10px;
  ">
  <img src="/logo.png" style="border-right: 1px solid hsl(0 0% 87% / 1); 
                               padding-right: 20px; 
                               padding-left: 20px; 
  ">

  <a href="/home2" style="padding-left: 20px; color: hsl(0 0% 50% / 1);">HOME</a>
  <a href="/home/1" style="padding-left: 20px; color: hsl(0 0% 50% / 1);">MODEL LIST</a>
  <a href="/modeler" style="padding-left: 20px; color: hsl(0 0% 50% / 1);">MODELER</a>
  <% if(sess) { %>
  <a href="/logout" style="padding-left: 20px; 
                           position: absolute; 
                           right: 50px; 
                           top : 17px; 
                           color: hsl(0 0% 50% / 1);">
                           LOGOUT</a>
  <% } %>

</div>
<div style="background-color: hsl(0,0%,97%); 
            padding: 20px 20px; 
            position: relative; 
            height: 7%;
            border-bottom: 1px solid hsl(0 0% 87% / 1);
            border-top: 1px solid hsl(0 0% 87% / 1);
            margin-top: 10px;
            ">
  <button class="picker" id="picker1" style="width: 3%; top: 15%; left: 65%; border:0; outline :1; position: absolute;">
     <img src="/paint_icon.svg" width="40" height="40">
  </button> 

  <label class="btn btn-light btn-file" 
          data-toggle="tooltip" data-placement="bottom" title="업로드"
          style="width: 4%; top: 10%; left: 20%; border:0; outline :0; position: absolute;">
    <img src="/Attach_icon.svg" width="40" height="40" >
    <input type="file" id="fileInput" name="fileInput" multiple style="display:none">
  </label>
  
  <input type="text" id="save-time" 
         style="top: 20%;   
                border:0; 
                outline :0;
                background-color: hsl(0,0%,97%);
                color: hsl(0,0%,33%);
                font-size: 15px; ">
  <input type="text" readonly="readonly" title="File Route"  id="file_path"
         style="width: 25%; 
                top: 25%; 
                left: 30%; 
                border:0; 
                outline :0; 
                position: absolute;
                background-color: hsl(0,0%,97%);
                color: black; ">

  <button class="btn btn-light" id="js-download-diagram"
          data-toggle="tooltip" data-placement="bottom" title="저장"
          style="width: 4%; top: 10%; left: 10%; border:0; outline :0; position: absolute;">
    <img src="/save_icon.svg" width="40" height="40">
  </button>
  <button class="btn btn-light" id="modelinfo"
          data-toggle="tooltip" data-placement="bottom" title="정보입력"
          style="width: 4%; top: 10%; left: 15%; border:0; outline :0; position: absolute;">
    <img src="/info_icon.svg" width="40" height="40">
  </button>
  <button class="btn btn-light" id="btn-download"  
          data-toggle="tooltip" data-placement="bottom" title="다운로드"
          style="width: 4%; top: 10%; left: 70%; border:0; outline :0; position: absolute;">
    <img src="/download_icon.svg" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-list"  
          data-toggle="tooltip" data-placement="bottom" title="모델 리스트"
          style="width: 4%; top: 10%; left: 75%; border:0; outline :0; position: absolute;">
    <img src="/list_icon.svg" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-minimap"  
          data-toggle="tooltip" data-placement="bottom" title="미니맵"
          style="width: 4%; top: 10%; left: 80%; border:0; outline :0; position: absolute;">
    <img src="/minimap_icon.svg" width="40" height="40">
  </button> 
  <button class="btn btn-light" id="btn-panel"  
          data-toggle="tooltip" data-placement="bottom" title="속성창"
          style="width: 4%; top: 10%; left: 85%; border:0; outline :0; position: absolute;">
    <img src="/panel_icon.svg" width="40" height="40">
  </button> 
</div>
<p id="xmlData" style="display:none;"><%=name%></p>
<p id="modelID" style="display:none;"><%=modelID%></p>
<input type = "hidden" id = "modelType" value="<%=type%>">
  

<!--
<div class="tab">
  <button class="tablinks" onclick="openCity(event, 'London')">MODEL_01</button>
  <button class="tablinks" onclick="openCity(event, 'Paris')">MODEL_02</button>
  <button class="tablinks" onclick="openCity(event, 'Tokyo')">MODEL_03</button>
</div>

<div id="London" class="tabcontent">
  <div class="content with-diagram" id="js-drop-zone">

    <div class="message intro">
      <div class="note">
        Drop BPMN diagram from your desktop or <a id="js-create-diagram" href>create a new diagram</a> to get started.
      </div>
    </div>

    <div class="message error">
      <div class="note">
        <p>Ooops, we could not display the BPMN 2.0 diagram.</p>

        <div class="details">
          <span>Import Error Details</span>
          <pre></pre>
        </div>
      </div>
    </div>

    <div class="canvas" id="js-canvas"></div>
    <div class="properties-panel-parent" id="js-properties-panel">
    </div>
</div>


<div id="Paris" class="tabcontent">
  <h3>MODEL_02</h3>
  <p>Paris is the capital of France.</p>
</div>

<div id="Tokyo" class="tabcontent">
  <h3>MODEL_03</h3>
  <p>Tokyo is the capital of Japan.</p>
</div>
-->


<div id="mySidenav" class="sidenav" 
     style="border-right: : 1px solid hsl(0 0% 87% / 1);">
 <!-- <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a> -->
  <a href="#" class="sideListMenu">전극</a>
  <div class="panel">
    <% for(var i=0; i < data.length; i++){ %>
    <% if(data[i].MODELCATID == "A"){ %>
      <a href="/modeler?id=<%=data[i].MODELID%>" style="font-size: 15px;"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a><br>
    <% } %>
    <% } %>
  </div>
  <a href="#" class="sideListMenu">조립</a>
    <div class="panel">
      <% for(var i=0; i < data.length; i++){ %>
      <% if(data[i].MODELCATID == "B"){ %>
        <a href="/modeler?id=<%=data[i].MODELID%>" style="font-size: 15px;"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a><br>
      <% } %>
      <% } %>
    </div>
  <a href="#" class="sideListMenu">활성</a>
    <div class="panel">
      <% for(var i=0; i < data.length; i++){ %>
      <% if(data[i].MODELCATID == "C"){ %>
        <a href="/modeler?id=<%=data[i].MODELID%>" style="font-size: 15px;"><%=data[i].MODELID%> [ <%=data[i].MODELNAME%> ]</a><br>
      <% } %>
      <% } %>
    </div>
</div>

<!--
<span onclick="openNav()">open</span>
-->

<div id="main_list"></div>

<div class="content with-diagram" id="js-drop-zone">
  <div class="message intro">
    <div class="note">
      Drop BPMN diagram from your desktop or <a id="js-create-diagram" href>create a new diagram</a> to get started.
    </div>
  </div>

  <div class="message error">
    <div class="note">
      <p>Ooops, we could not display the BPMN 2.0 diagram.</p>

      <div class="details">
        <span>Import Error Details</span>
        <pre></pre>
      </div>
    </div>
  </div>

  <div class="canvas" id="js-canvas"></div>
  <div class="properties-panel-parent" id="js-properties-panel"></div>
</div>


<input type = "hidden" id = "modelName" class="maininput" value="<%=JsmodelName%>">
<input type = "hidden" id = "modelDetailName" class="maininput" value="<%=JsmodelDetailName%>">


<div class="buttons" style="display: none;">
  <label id="js-download-diagram" href class="active"  title="download BPMN diagram">모델러 저장</label>
  <label id="modelinfo">모델정보입력</label>

  <label>
        <img src="/Attach_icon.ico" width="30" height="30">
        <input type="file" id="fileInput" name="fileInput" multiple>
  </label>


  <input type="text" readonly="readonly" title="File Route">
  <input type="hidden" id="file_length" value="<%=JsFileList.length%>">
 <% for(var k=0; k < JsFileList.length; k++){ %>  
  <input type="hidden" id="file<%=k%>" value="download?id=<%=JsFileList[k].REPOSINFO%>">
 <% } %>
</div>



<div class="zoom">
  <img src="/zoom-reset-icon.png" id="zoom-reset" width="40" height="40">
  <img src="/zoom-in-icon.png" id="zoom-in" width="40" height="40">
  <img src="/zoom-out-icon.png" id="zoom-out" width="40" height="40">
</div>

<script src="https://code.jquery.com/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="modeler.app.js"></script>

<script type="text/javascript">

//model list side bar..
var acc = document.getElementsByClassName('sideListMenu');
var i;

for (i = 0; i < acc.length; i++) {
  acc[i].addEventListener("click", function() {
    this.classList.toggle("active");
    var panel = this.nextElementSibling;
    if (panel.style.maxHeight) {
      panel.style.maxHeight = null;
    } else {
      //panel.style.maxHeight = panel.scrollHeight + "px";
      panel.style.maxHeight = "500px";
    } 
   });
}

//btn tooltip..
//$('[data-toggle="tooltip"]').tooltip()

/*
function openCity(evt, cityName) {
  // Declare all variables
  var i, tabcontent, tablinks;

  // Get all elements with class="tabcontent" and hide them
  tabcontent = document.getElementsByClassName("tabcontent");
  for (i = 0; i < tabcontent.length; i++) {
    tabcontent[i].style.display = "none";
  }

  // Get all elements with class="tablinks" and remove the class "active"
  tablinks = document.getElementsByClassName("tablinks");
  for (i = 0; i < tablinks.length; i++) {
    tablinks[i].className = tablinks[i].className.replace(" active", "");
  }

  // Show the current tab, and add an "active" class to the button that opened the tab
  document.getElementById(cityName).style.display = "block";
  evt.currentTarget.className += " active";
}
*/

</script>

</html>
